# 🗺️ 카카오맵 기능 - 빠른 시작 가이드

## 1️⃣ API 키 설정 (5분)

### Step 1: 카카오 개발자 계정 생성
1. [Kakao Developers](https://developers.kakao.com/)에 접속
2. 로그인 (없으면 회원가입)
3. **내 애플리케이션** → **앱 생성** 클릭

### Step 2: 애플리케이션 정보 입력
- **앱 이름**: `Hospital Map` (자유)
- **사업자 명**: `개인` (선택)

### Step 3: JavaScript 키 복사
- **앱 설정** → **REST API 키** 복사
- `KAKAO_API_KEY=...` 형태로 저장

### Step 4: .env 파일에 추가
```bash
# c:\Users\playdata2\Desktop\third\.env
KAKAO_API_KEY=your-api-key-here
OPENAI_API_KEY=sk-...
TAVILY_API_KEY=tvly-...  # 선택사항
```

## 2️⃣ 설치 및 실행 (2분)

### 필수 패키지 설치
```bash
pip install -r requirements.txt
```

### 앱 실행
```bash
streamlit run app.py
```

### 자동으로 열리는 주소
```
http://localhost:8501
```

## 3️⃣ 사용 방법

### 방법 1: 버튼으로 전체 병원 보기
1. **"🗺️ 동물병원 위치 지도 보기"** 버튼 클릭
2. 인터랙티브 카카오맵 표시
3. 마커 클릭 시 병원 정보 표시

### 방법 2: 질문으로 특정 병원 검색
```
질문: "서울의 VIP동물의료센터 위치를 알려주세요"

→ 자동으로 웹 검색
→ 병원 위치 지도 표시
```

## 📋 주요 기능

| 기능 | 설명 |
|------|------|
| **전체 병원 지도** | CSV에서 1,000+ 서울시 동물병원 표시 |
| **병원 검색** | 질문에서 병원명 자동 인식 및 검색 |
| **인터랙티브 지도** | 마커 클릭으로 상세 정보 확인 |
| **병원 목록** | 이름, 주소, 전화번호 표시 |

## 🎯 예시 시나리오

### 시나리오 1: 근처 동물병원 찾기
```
사용자: "강아지 피부질환으로 병원을 찾아주세요"
AI: "피부질환에 대해 설명하고 근처 병원을 추천합니다"
→ 🗺️ 지도 버튼 클릭 → 전체 병원 표시
```

### 시나리오 2: 특정 병원 위치 찾기
```
사용자: "아이랑 동물병원이 어디에 있어요?"
AI: "검색 중..." → 웹에서 주소 검색
→ 자동으로 지도에 "아이랑 동물병원" 위치 표시
```

### 시나리오 3: 지역별 병원 검색
```
사용자: "강남구 동물병원을 알려주세요"
→ 지도에 강남구 병원들 집중 표시
```

## ⚙️ 설정 파일 구조

```
app.py                                    # 메인 Streamlit 앱
├── src/kakao_map.py                      # 카카오맵 모듈
├── src/hospital_web_search.py            # 웹 검색 모듈
└── data/raw/hospital/
    └── 서울시_동물병원_인허가_정보.json   # 병원 데이터
```

## 🐛 자주 묻는 질문

### Q: API 키가 없으면?
A: .env 파일 없이도 기본적인 RAG 기능은 작동합니다. 지도만 표시되지 않습니다.

### Q: 카카오맵이 안 보이면?
A: 
1. API 키 확인 (유효한지)
2. 브라우저 콘솔에서 에러 확인
3. Streamlit 재시작: `Ctrl+C` → `streamlit run app.py`

### Q: 특정 지역의 병원만 보고 싶으면?
A: 현재는 전체 서울시 병원을 표시합니다. 향후 필터링 기능 추가 예정

### Q: 병원 정보가 최신인가?
A: CSV 파일은 2025년 기준입니다. 웹 검색으로 최신 정보 확인 가능

## ✨ 팁과 트릭

1. **마커 많을 때**: 지도 줌 레벨 자동 조정으로 모든 마커 표시
2. **병원명 검색**: 정확한 병원명 사용 추천 (예: "ABC동물병원", "XYZ의료센터")
3. **지역 정보**: 질문에 지역명 포함 시 더 정확한 검색 가능
4. **병원 목록**: 펼쳐보기로 상세 정보 확인 가능

## 🚀 다음 단계

1. **설정 완료** → `streamlit run app.py` 실행
2. **지도 확인** → "🗺️ 동물병원 위치 지도 보기" 클릭
3. **검색 테스트** → "서울의 [병원명]" 질문하기
4. **기능 탐색** → 다양한 질문과 상호작용

## 📞 문제 해결

| 문제 | 해결 |
|------|------|
| KAKAO_API_KEY not found | .env 파일에 키 추가 |
| 지도 안 보임 | API 키 유효성, 네트워크 확인 |
| 병원 검색 안 됨 | 정확한 병원명 사용 |
| 데이터 로드 실패 | CSV 파일 경로 확인 |

## 📚 더 자세한 정보

- 전체 가이드: `KAKAO_MAP_GUIDE.md`
- Streamlit 가이드: `STREAMLIT_GUIDE.md`
- README: `README.md`

---

**축하합니다! 🎉 이제 카카오맵 기능을 사용할 준비가 되었습니다!**

